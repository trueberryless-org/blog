---
title: Comment cr√©er un indicateur de progression horizontal pour votre site Starlight
description: Apprenez √† cr√©er un indicateur de progression horizontal pour votre
  site Starlight.
date: 2025-06-10
tags:
  - Starlight
  - CSS
  - Education
excerpt: Apprenez √† cr√©er un indicateur de progression horizontal pour votre <a
  class="gh-badge" href="https://github.com/withastro/starlight"><img
  src="/starlight.png" alt="Starlight" />Starlight</a> site.
authors:
  - frostybee
  - trueberryless
cover:
  alt: A striking black and red background with a bold red line running
    horizontally.
  image: ../../../../public/blog/starlight-progress-indicator.jpg

---

Dans cet article, nous aimerions vous montrer comment [FrostyBee](https://github.com/frostybee) a cr√©√© un indicateur de progression horizontal et √©pur√© pour les sites Starlight.

## Pr√©requis

Vous devez disposer d‚Äôun site web Starlight existant.

## Cr√©er le composant d'indicateur de progression

Cr√©ons un nouveau composant appel√© `ProgressIndicator.astro` dans le r√©pertoire `src/components/`. Ce composant sera charg√© de rendre l'indicateur de progression.

Nous cr√©ons un conteneur qui s'√©tend sur toute la largeur avec la barre de progression `<div>` √† l'int√©rieur. La largeur de l'√©l√©ment `<div>` interne est mise √† jour chaque fois que l'utilisateur fait d√©filer la page (et lors du chargement de celle-ci) pour refl√©ter la position de d√©filement actuelle.

```astro title="src/components/ProgressIndicator.astro" collapse={27-43}
<div class="progress-scroll-container" aria-hidden="true">
  <div id="progress-scroll"></div>
</div>

<script>
  window.addEventListener("scroll", function () {
    updateProgressScroll();
  });
  window.addEventListener("load", function () {
    updateProgressScroll();
  });

  function updateProgressScroll() {
    if (document) {
      const progressScroll = document.getElementById("progress-scroll");
      if (progressScroll) {
        var scrollTop = window.scrollY || document.documentElement.scrollTop;
        var scrollHeight =
          document.documentElement.scrollHeight - window.innerHeight;
        var progress = (scrollTop / scrollHeight) * 100;
        progressScroll.style.width = progress + "%";
      }
    }
  }
</script>

<style>
  html:is(:not([data-has-hero]), [data-has-sidebar], [data-has-toc]) .progress-scroll-container {
    position: fixed;
    top: var(--sl-nav-height);
    left: 0;
    height: 0.25rem;
    width: 100%;
    background-color: transparent;
    z-index: 3;
  }

  #progress-scroll {
    height: 100%;
    width: 0px;
    background-color: var(--sl-color-accent-high);
  }
</style>

<style is:global>
  #starlight__on-this-page--mobile {
    margin-top: 0.25rem;
  }
</style>
```

Dans les lignes masqu√©es se trouve le style qui s'assure que la barre de progression ressemble √† une barre de progression typique. Elle est √©galement adapt√©e √† Starlight car la barre est automatiquement masqu√©e lorsque le site n‚Äôa ni barre lat√©rale ni table des mati√®res, mais poss√®de un √©l√©ment ¬´ hero ¬ª, comme la plupart des pages de destination.

Un point important √† noter concernant le CSS global (ligne 45) : il d√©place le menu d√©roulant de la table des mati√®res mobile vers le bas pour cr√©er plus d‚Äôespace blanc au niveau de la barre de progression. C'est une pr√©f√©rence personnelle et vous pouvez le supprimer si vous le souhaitez.

## Surcharge dans Starlight

Nous pouvons maintenant utiliser ce composant dans une [surcharge Starlight](https://starlight.astro.build/guides/overriding-components/). Dans ce cas, il est logique de surcharger le composant [`Header.astro`](https://starlight.astro.build/reference/overrides/#header-1) comme ceci :

```astro title="src/components/Header.astro"
---
import Default from "@astrojs/starlight/components/Header.astro";
import ScrollIndicator from "./ScrollIndicator.astro";
---

<Default><slot /></Default>
<ScrollIndicator />
```

N‚Äôoubliez pas d‚Äôajouter cette surcharge de composant √† votre fichier `astro.config.mjs` :

```diff lang="js" title="astro.config.mjs"
import { defineConfig } from 'astro/config';
import starlight from '@astrojs/starlight';

export default defineConfig({
  integrations: [
    starlight({
      title: 'My Docs with a Progress Indicator',
+      components: {
+        // Override the default `Header` component.
+        Header: './src/components/Header.astro',
+      },
    }),
  ],
});
```

## Code source

Vous pouvez trouver l'int√©gralit√© du code du projet sur [GitHub](https://github.com/trueberryless/starlight-progress-indicator) et dans cet [exemple sur Stackblitz](https://stackblitz.com/github/trueberryless/starlight-progress-indicator?file=src%2Fcomponents%2FProgressIndicator.astro).

## Conclusion

Avec cette configuration, l'indicateur de progression sera affich√© sur chaque page (sauf les pages de destination) de votre site Starlight. ü•≥

Vous pouvez √©galement consulter le [plugin Starlight Scroll To Top de FrostyBee](https://github.com/frostybee/starlight-scroll-to-top), qui prend √©galement en charge un [Progress Ring](https://frostybee.github.io/starlight-scroll-to-top/configuration/#showprogressring) int√©gr√© depuis la version `0.3.1`. üôå

## Cr√©dits

Cr√©ateur de l'image de couverture : [https://unsplash.com/@muriel\_1](https://unsplash.com/@muriel_1)
