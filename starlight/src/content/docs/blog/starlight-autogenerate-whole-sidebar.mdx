---
title: How to automatically generate the whole sidebar in Starlight efficiently
description: This blog shows you how you can utilize some of Starlight's newest features to simplify the creation of your sidebar especially in large projects.
date: 2025-08-15
tags:
  - Education
  - Starlight
authors:
  - trueberryless
  - hideoo
cover:
  alt: A beautiful cover image with the text "AI Translations"
  image: ../../../../public/blog/starlight-autogenerate-whole-sidebar.png
---

import { FileTree } from '@astrojs/starlight/components';

Have you ever wanted to simplify sidebar generation in your Starlight project? Have you tried autogenerating the entire sidebar only to find it doesn't let you customize the structure to your needs?

This post demonstrates two Starlight features that make fully autogenerated sidebars flexible and reduce maintenance.
{/* excerpt */}

## Use case

In medium to large Starlight projects, the problem arises that the manual creation and maintenance of the [Starlight sidebar configuration](https://starlight.astro.build/reference/configuration/#sidebar) is a tedious and time-consuming task. 

In the past, Starlight did not offer ultimate features to tackle those scenarios and the recommended solution was to move the autogeneration of the sidebar configuration on level deeper - so that only folders without nested folders can be autogenerated. However, with the introduction to [Route Data](https://starlight.astro.build/guides/route-data/) and a more recent, but niche feature: the [`generateId()` hook of the `docsLoader`](https://starlight.astro.build/reference/configuration/#generateid), such scenarios can be solved much more easily and efficient nowadays.

## Solving the ordering issue

A common problem always was: "How can I customise the order of sidebar folders if I autogenerate the sidebar?" Old issues like [#1223](https://github.com/withastro/starlight/issues/1223) suggest a solution inspired by [Nuxt Content](https://content.nuxt.com) where each segment of the whole route can be [prefixed with numbers + dots](https://v2.content.nuxt.com/usage/content-directory#ordering) to determine numeric ordering on a file-based level. An example for such a project could look like this:

<FileTree>

- src/content/docs/nested-folder
  - 1.frameworks
    - 1.vue.md
    - 2.nuxt.md
  - 2.examples
    - 1.vercel.md
    - 2.netlify.md

</FileTree>


If you want to use this approach in Starlight, it does not work out-of-the-box, but with a simple setup you can make it work.

Starlight [0.35.0](https://github.com/withastro/starlight/releases/tag/%40astrojs%2Fstarlight%400.35.0) introduced a callback function which you can pass to `docsLoader()` that can manipulate the id (URL) of the generated page. By splitting the entry by `"/"` and removing any number + dot on the segment level, you have the same functionality now in Starlight:

```ts {9-15}
// src/content.config.ts
import { defineCollection } from "astro:content";
import { docsLoader } from "@astrojs/starlight/loaders";
import { docsSchema } from "@astrojs/starlight/schema";

export const collections = {
  docs: defineCollection({
    loader: docsLoader({
      // Remove leading numbers + dot from each segment
      generateId: ({ entry }) =>
        entry
          .replace(/\.(md|mdx)$/, "")
          .split("/")
          .map((segment) => segment.replace(/^\d+\./, ""))
          .join("/"),
    }),
    schema: docsSchema(),
  }),
};
```

The URL to access the pages now changes e.g. from `/nested-folder/1.frameworks/1.vue` to `/nested-folder/frameworks/vue`.

However, the folder names in the sidebar still include the `1.` prefixes. So let's solve the sidebar manipulation as well:

## Solving the sidebar folder naming issue

Starlight [0.32.0](https://github.com/withastro/starlight/releases/tag/%40astrojs%2Fstarlight%400.32.0) introduced [Route Data](https://starlight.astro.build/de/guides/route-data/), which we can now utilize to manipulate folder names in the sidebar to

1. remove any leading number + dot from the folder name and
2. apply "Title Case" so they do not look completely lowercase.

```ts
// src/routeData.ts
import { defineRouteMiddleware } from "@astrojs/starlight/route-data";

export const onRequest = defineRouteMiddleware((context) => {
  const { sidebar } = context.locals.starlightRoute;

  function toTitleCase(str: string) {
    return str.replace(/\w\S*/g, (word) => {
      return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
    });
  }

  function cleanGroupLabels(entries: typeof sidebar) {
    for (const entry of entries) {
      if (entry.type === "group") {
        // Remove leading number + dot
        let label = entry.label.replace(/^\d+\./, "");
        // Convert to Title Case (optional)
        entry.label = toTitleCase(label);
        // Recurse into children
        if (Array.isArray(entry.entries)) {
          cleanGroupLabels(entry.entries);
        }
      }
    }
  }

  cleanGroupLabels(sidebar);
});
```

Do not forget to add the `routeData.ts` file to your `astro.config.mjs`:

```ts ins={11}
// astro.config.mjs
    starlight({
      title: "Autogenerate whole sidebar",
      social: [{ icon: "github", label: "GitHub", href: "https://github.com/withastro/starlight" }],
      sidebar: [
        {
          label: "Root Folder",
          autogenerate: { directory: "nested-folder" },
        },
      ],
      routeMiddleware: "./src/routeData.ts",
    }),
```

Of course you can adjust the code to your needs (eg remove the "Title Case" transformation because your file names are already written correctly).

## Using HiDeoo's plugin

If you want to autogenerate your whole sidebar and still have the flexibility to customise everything you want, [HiDeoo](https://github.com/HiDeoo) also made a dedicated plugin for such use cases: [Starlight Auto Sidebar](https://starlight-auto-sidebar.netlify.app).

Especially those two features got mentioned in this article:

- Controlling the [order](https://starlight-auto-sidebar.netlify.app/metadata/#order) of individual directories
- Adapting the [displayed label](https://starlight-auto-sidebar.netlify.app/metadata/#label) of individual folders

However, if you want to automate the whole generation without having to specify labels and orders manually for each directory, coding the solution yourself (with some guidelines in this blog) is the preferred and recommended solution.

If you want to check out the code presented in this blog, feel free to visit the [StackBlitz](https://stackblitz.com/github/trueberryless/starlight-autogenerate-whole-sidebar?file=src%2Fcontent.config.ts) or the source code in the [GitHub repo](https://github.com/trueberryless/starlight-autogenerate-whole-sidebar).
